# ================================================
# Bias Analysis Tool - Environment Configuration
# ================================================

# ----------------
# Google Cloud
# ----------------
# Your Google Cloud Project ID (REQUIRED for LLM features)
GOOGLE_CLOUD_PROJECT=your-project-id-here

# GCP Region (default: us-central1)
GCP_LOCATION=us-central1

# ----------------
# LLM Models
# ----------------
# Default generation model (Meta Llama 3.3 70B)
LLAMA_MODEL=meta/llama-3.3-70b-instruct-maas

# Default evaluation model (Gemini 2.0 Flash)
GEMINI_MODEL=gemini-2.0-flash-exp

# ----------------
# Security - IP-Based Protection (Primary)
# ----------------
# Enable rate limiting (true/false) - RECOMMENDED: true for public demos
ENABLE_RATE_LIMITING=true

# Enable daily quotas (true/false) - RECOMMENDED: true for cost control
ENABLE_QUOTAS=true

# ----------------
# IP-Based Rate Limiting (PRIMARY PROTECTION)
# ----------------
# These limits apply to ALL users based on their IP address
# Protects against abuse without requiring API keys

# Requests per minute (per IP address)
# Recommended: 10 for public demo, 30 for higher traffic
IP_RATE_LIMIT_PER_MINUTE=10

# Requests per hour (per IP address)
# Recommended: 100 for public demo, 500 for higher traffic
IP_RATE_LIMIT_PER_HOUR=100

# ----------------
# IP-Based Daily Quotas (COST CONTROL)
# ----------------
# Maximum requests per day (per IP address)
# Recommended: 200 for public demo (prevents single user from dominating)
IP_DAILY_REQUEST_QUOTA=200

# Maximum cost per day in USD (per IP address)
# Recommended: $5/day per IP = ~$150/month if 30 active IPs
# Adjust based on your total budget
IP_DAILY_COST_QUOTA=5.0

# ----------------
# API Keys (Optional - Disabled by Default)
# ----------------
# Enable API key requirement (true/false)
# Recommended: false for public demos (no friction), true for controlled access
REQUIRE_API_KEY=false

# API Keys (comma-separated, only needed if REQUIRE_API_KEY=true)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEYS=

# Admin API Key (for /api/admin/* monitoring endpoints)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Keep this secret! Only for you to monitor usage
ADMIN_API_KEY=

# Per-API-key limits (only apply if REQUIRE_API_KEY=true)
RATE_LIMIT_PER_MINUTE=10
RATE_LIMIT_PER_HOUR=100
DAILY_REQUEST_QUOTA=500
DAILY_COST_QUOTA=10.0

# ----------------
# Cost Estimates
# ----------------
# Approximate cost per bias injection/debiasing operation (USD)
# Used for quota tracking - adjust based on actual model costs
COST_PER_BIAS_OPERATION=0.01

# Approximate cost per initial graph expansion (USD)
COST_PER_GRAPH_EXPANSION=0.02

# ----------------
# Frontend
# ----------------
# API URL for frontend (set to your backend URL)
# Local development: http://localhost:5000/api
# Production: https://your-cloud-run-url/api
REACT_APP_API_URL=http://localhost:5000/api

# Default API key for frontend (optional, can be passed by user instead)
# Leave empty to require users to enter their own key
REACT_APP_API_KEY=

# ----------------
# Development
# ----------------
# Flask environment (development/production)
FLASK_ENV=development

# Flask debug mode (true/false)
FLASK_DEBUG=true
